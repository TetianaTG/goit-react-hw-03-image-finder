{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Notification/Notification.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","utils/images-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Notification/Notification.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Modal/Modal.module.css","components/Button/Button.module.css"],"names":["module","exports","BASE_URL","options","fetchImages","value","page","axios","get","process","REACT_APP_API_KEY","then","data","hits","ImageGalleryItem","item","onClickImage","onClick","src","webformatURL","data-src","largeImageURL","alt","className","styles","ImageGalleryItemImage","ImageGallery","items","map","key","id","Searchbar","state","searchValue","handleInputChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","resetForm","this","SearchForm","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Component","Notification","message","notification","Modal","overlayRef","createRef","hadleKeypress","onCloseModal","code","handleOverlayCLick","current","window","addEventListener","removeEventListener","url","Overlay","ref","image","Button","title","OnClickButton","IsDisadled","buttonClasses","disabled","container","defaultProps","myLoader","loader","color","height","width","timeout","App","images","error","isLoading","largeImage","currentQuery","currentPage","isLastPage","fetchImagesAPI","length","concat","scrollPage","catch","finally","updateCurrentQueryParams","closeModal","getUrlForModal","dataset","scrollTo","top","document","documentElement","scrollHeight","behavior","OnloadMore","prevProps","prevState","isShouldRenderLoadMoreButton","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d687bb24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__1C7Ma\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/?q=';\nconst options = 'image_type=photo&orientation=horizontal&per_page=12';\n\nconst fetchImages = (value = 'flower', page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}${value}&page=${page}&key=${process.env.REACT_APP_API_KEY}&${options}`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default fetchImages;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, onClickImage }) => {\n  return (\n    <img\n      onClick={onClickImage}\n      src={item.webformatURL}\n      data-src={item.largeImageURL}\n      alt=\"\"\n      className={styles.ImageGalleryItemImage}\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: propTypes.shape({\n    webformatURL: propTypes.string.isRequired,\n    largeImageURL: propTypes.string.isRequired,\n  }).isRequired,\n  onClickImage: propTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, onClickImage }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {items.map(item => {\n        return (\n          <li key={item.id}>\n            <ImageGalleryItem item={item} onClickImage={onClickImage} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  items: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.number.isRequired,\n    }),\n  ).isRequired,\n  onClickImage: propTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({\n      searchValue: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    const { onSubmit } = this.props;\n    const { searchValue } = this.state;\n    e.preventDefault();\n    onSubmit(searchValue);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({\n      searchValue: '',\n    });\n  };\n\n  render() {\n    const { searchValue } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchValue}\n            onChange={this.handleInputChange}\n          />\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: propTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Notification.module.css';\n\nconst Notification = ({ message }) => (\n  <div className={styles.notification}>\n    {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n    <h1>Oops : {message}...</h1>\n  </div>\n);\n\nNotification.propTypes = {\n  message: propTypes.string.isRequired,\n};\n\nexport default Notification;\n","import React, { Component, createRef } from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.hadleKeypress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hadleKeypress);\n  }\n\n  hadleKeypress = e => {\n    const { onCloseModal } = this.props;\n    if (e.code !== 'Escape') return;\n\n    onCloseModal();\n  };\n\n  handleOverlayCLick = e => {\n    const { onCloseModal } = this.props;\n    if (e.target === this.overlayRef.current) {\n      onCloseModal();\n    }\n  };\n\n  render() {\n    const { url } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayCLick}\n      >\n        <div className={styles.Modal}>\n          <img src={url} alt=\"\" className={styles.image} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  url: propTypes.string.isRequired,\n  onCloseModal: propTypes.func.isRequired,\n};\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ title, OnClickButton, IsDisadled }) => {\n  const buttonClasses = IsDisadled ? styles.disabled : styles.Button;\n\n  return (\n    <div className={styles.container}>\n      <button\n        type=\"button\"\n        className={buttonClasses}\n        onClick={OnClickButton}\n        disabled={IsDisadled}\n      >\n        {title}\n      </button>\n    </div>\n  );\n};\n\nButton.defaultProps = {\n  OnClickButton: null,\n  IsDisadled: false,\n};\n\nButton.propTypes = {\n  title: propTypes.string.isRequired,\n  IsDisadled: propTypes.bool,\n  OnClickButton: propTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst myLoader = () => {\n  return (\n    <div className={styles.loader}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#403a39\"\n        height={100}\n        width={100}\n        timeout={5000}\n      />\n    </div>\n  );\n};\n\nexport default myLoader;\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport fetchImagesAPI from './utils/images-api';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Notification from './components/Notification/Notification';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    error: null,\n    isLoading: false,\n    largeImage: null,\n    currentQuery: '',\n    currentPage: 1,\n    isLastPage: false,\n  };\n\n  componentDidMount() {\n    this.setState({\n      currentQuery: 'skywalker',\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, currentQuery } = this.state;\n\n    if (\n      prevState.currentPage !== currentPage ||\n      prevState.currentQuery !== currentQuery\n    ) {\n      this.fetchImages(currentQuery, currentPage);\n    }\n  }\n\n  fetchImages = (value, page) => {\n    this.setState({\n      isLoading: true,\n    });\n\n    fetchImagesAPI(value, page)\n      .then(hits => {\n        const { currentPage } = this.state;\n\n        this.setState(state => {\n          return {\n            isLastPage: (hits.length > 0 && hits.length < 12) || false,\n            images: state.images.concat(hits),\n          };\n        });\n\n        if (currentPage > 1) {\n          this.scrollPage();\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onSubmit = value => {\n    this.updateCurrentQueryParams(value);\n  };\n\n  closeModal = () => {\n    this.setState({\n      largeImage: null,\n    });\n  };\n\n  getUrlForModal = e => {\n    const url = e.target.dataset.src;\n    this.setState({\n      largeImage: url,\n    });\n  };\n\n  scrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  OnloadMore = () => {\n    this.setState(state => {\n      return { currentPage: state.currentPage + 1 };\n    });\n  };\n\n  updateCurrentQueryParams = value => {\n    this.setState({\n      images: [],\n      currentQuery: value,\n      currentPage: 1,\n    });\n  };\n\n  render() {\n    const { images, isLoading, error, largeImage, isLastPage } = this.state;\n    const isShouldRenderLoadMoreButton =\n      !isLastPage && !images.length < 1 && !error && !isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <Notification message={error.message} />}\n\n        {largeImage && (\n          <Modal url={largeImage} onCloseModal={this.closeModal} />\n        )}\n\n        {images.length > 0 && (\n          <ImageGallery items={images} onClickImage={this.getUrlForModal} />\n        )}\n\n        {isShouldRenderLoadMoreButton && (\n          <Button title=\"Load More\" OnClickButton={this.OnloadMore} />\n        )}\n\n        {isLastPage && !isLoading && (\n          <Button title=\"Sorry, that's all\" IsDisadled />\n        )}\n\n        {images.length < 1 && (\n          <Notification message=\"Images not found,try something else\" />\n        )}\n        {isLoading && <Loader />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\",\"image\":\"Modal_image__1cHuD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__2Mo5u\",\"Button\":\"Button_Button__3R1xi\",\"disabled\":\"Button_disabled__2c3jr Button_Button__3R1xi\"};"],"sourceRoot":""}